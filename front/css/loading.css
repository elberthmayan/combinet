/*
 * ======================================================
 * ANIMAÇÃO DE CARREGAMENTO (VERSÃO SURPREENDENTE)
 * ======================================================
 */

/* Container principal */
.loading-spinner-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 40px;
    /* ALTERAÇÃO: Garante que o container tenha altura suficiente para centralizar a animação na tela. */
    min-height: calc(100vh - 250px);
    box-sizing: border-box;
    overflow: hidden;
}

/* --- A Frigideira --- */
.frying-pan-container {
    width: 220px; /* Tamanho ajustado */
    height: 120px;
    position: relative;
    /* Animação com curva de Bézier para um movimento natural */
    animation: pan-tilt 2.5s cubic-bezier(0.37, 0, 0.63, 1) infinite;
    transform-origin: center bottom;
}

.pan-body {
    width: 120px;
    height: 120px;
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    perspective: 1200px;
}

.pan {
    width: 100%;
    height: 100%;
    background-image: radial-gradient(circle at 40% 40%, #505050, #1a1a1a);
    border-radius: 50%;
    box-shadow: 
        inset 0 6px 10px rgba(0,0,0,0.6),
        0 8px 20px rgba(0,0,0,0.3);
    border: 10px solid #383838;
    box-sizing: border-box;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.handle {
    width: 100px;
    height: 18px;
    background: linear-gradient(to right, #555, #222);
    border-radius: 9px;
    position: absolute;
    top: 50%;
    right: -95px;
    transform: translateY(-50%);
    box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
}

/* --- A Panqueca (Mais Bonita) --- */
.pancake-container {
    width: 75px;
    height: 75px;
    position: absolute;
    animation: toss-pancake 2.5s cubic-bezier(0.37, 0, 0.63, 1) infinite;
    transform-style: preserve-3d;
}

.pancake {
    width: 100%;
    height: 100%;
    position: relative;
    animation: flip-pancake 2.5s cubic-bezier(0.37, 0, 0.63, 1) infinite;
    transform-style: preserve-3d;
    /* Sombra para dar espessura à panqueca */
    box-shadow: 0 4px 0px #b57732;
    border-radius: 50%;
}

.pancake-face {
    position: absolute;
    width: 100%;
    height: 100%;
    background-color: #fcc981; /* Cor da massa */
    /* Textura mais sutil e orgânica */
    background-image:
        radial-gradient(circle at 20% 20%, #eab670 5%, transparent 5.1%),
        radial-gradient(circle at 75% 50%, #eab670 4%, transparent 4.1%),
        radial-gradient(circle at 40% 80%, #eab670 5%, transparent 5.1%);
    border-radius: 50%;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);
    backface-visibility: hidden;
}

.pancake-face.back {
    background-color: #b57732; /* Lado tostado */
    background-image:
        radial-gradient(circle at 25% 25%, #a0682c 5%, transparent 5.1%),
        radial-gradient(circle at 65% 55%, #a0682c 4%, transparent 4.1%);
    transform: rotateY(180deg);
}

.butter {
    width: 18px;
    height: 18px;
    background: linear-gradient(#fff5b8, #f9e288);
    border-radius: 3px;
    /* Efeito de derretimento mais pronunciado */
    box-shadow: 0 0 8px 3px rgba(255, 245, 184, 0.7);
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    animation: melt-butter 2.5s infinite;
}

/* --- O Efeito Surpresa: Fumaça! --- */
.steam-container {
    position: absolute;
    width: 100%;
    height: 100%;
    pointer-events: none;
}
.steam-wisp {
    position: absolute;
    bottom: 25px;
    left: 50%;
    width: 5px;
    height: 20px;
    background: rgba(200, 200, 200, 0.3);
    border-radius: 50%;
    filter: blur(3px);
    transform-origin: bottom center;
    opacity: 0;
    animation: steam-rise 2.5s infinite linear;
}
/* Atrasos diferentes para fumaça mais natural */
.steam-wisp:nth-child(2) { animation-delay: 0.5s; left: 40%; }
.steam-wisp:nth-child(3) { animation-delay: 1s; left: 60%; }


/* Mensagem de carregamento */
.loading-message {
    margin-top: 30px;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-secondary);
    font-family: 'Roboto Mono', 'Courier New', Courier, monospace;
    overflow: hidden; 
    white-space: nowrap; 
    border-right: 3px solid var(--text-secondary); 
    width: 0;
    animation: 
        typing 2.5s steps(29, end) infinite,
        blink-caret .75s step-end infinite;
}

/* --- ANIMAÇÕES REFINADAS COM FÍSICA --- */

/* Movimento de pulso da frigideira */
@keyframes pan-tilt {
    0%, 10%, 60%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-20deg); } /* Impulso rápido */
    45% { transform: rotate(10deg); }  /* Retorno suave */
}

/* Lançamento da panqueca com gravidade */
@keyframes toss-pancake {
    0%, 10%, 60%, 100% { transform: translateY(0); animation-timing-function: cubic-bezier(0.3, 0, 0.8, 1); }
    35% { transform: translateY(-110px); animation-timing-function: cubic-bezier(0.2, 0, 0.7, 1); } /* Pico */
}

/* Giro da panqueca no ar */
@keyframes flip-pancake {
    0%, 20% { transform: rotateY(0deg); }
    55%, 100% { transform: rotateY(180deg); }
}

/* Manteiga derretendo levemente */
@keyframes melt-butter {
    0%, 10%, 60%, 100% { transform: translate(-50%, -50%) scale(1); }
    35% { transform: translate(-50%, -55%) scale(1.1, 0.9); } /* Achata no ar */
}

/* Fumaça subindo e sumindo */
@keyframes steam-rise {
    0% { opacity: 0; transform: translateY(0) scale(1) translateX(-50%); }
    50% { opacity: 1; transform: translateY(-30px) scale(1.5) translateX(-50%); }
    100% { opacity: 0; transform: translateY(-60px) scale(2) translateX(-50%); }
}

/* Efeito de digitação */
@keyframes typing {
    from { width: 0 }
    to { width: 29ch }
}

/* Cursor piscando */
@keyframes blink-caret {
    from, to { border-color: transparent }
    50% { border-color: var(--text-secondary); }
}